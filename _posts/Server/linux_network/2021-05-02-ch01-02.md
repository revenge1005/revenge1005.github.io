---
title:  "[Linux Network] 02. route ëª…ë ¹ì–´" 

categories:
  - LINUX_NETWORK
tags:
  - [linux_network, linux]

toc: true
toc_sticky: true

date: 2023-05-23
last_modified_at: 2023-10-23
---
<br>

# 01. route ëª…ë ¹ì–´
---

<style>
table {
    font-size: 12pt;
}
table th:first-of-type {
    width: 5%;
}
table th:nth-of-type(2) {
    width: 15%;
}
table th:nth-of-type(3) {
    width: 50%;
}
table th:nth-of-type(4) {
    width: 30%;
}
big {
    font-size: 15pt;
}
</style>

> ë¼ìš°íŒ… í…Œì´ë¸”ì„ ì„¤ì •í•˜ê³ , í˜„ì¬ ì‹œìŠ¤í…œì˜ ë¼ìš°íŒ… í…Œì´ë¸”ì„ ì¡°íšŒ

<br>

## a) ëª…ë ¹ í˜•ì‹

```bash
route [ OPTIONS ] COMMAND [ DESTINATION ] [ MASK netmask ] [ GATEWAY ] [ METRIC metric ] [ IF interface ]
```

<br>

## b) ì˜µì…˜

| ì˜µì…˜ | ì„¤ëª… |
|:---:|:---|
|-n|ìˆ«ì í˜•ì‹ìœ¼ë¡œ IP ì£¼ì†Œì™€ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì¶œë ¥|
|-v|ìƒì„¸í•œ ì¶œë ¥ì„ ì œê³µ|
|-A|ë¼ìš°íŒ… í…Œì´ë¸”ì„ ì„ íƒ|
|-F|ë¼ìš°íŒ… í…Œì´ë¸”ì„ ì´ˆê¸°í™”|
|-p|ADD ëª…ë ¹ì–´ì™€ í•¨ê»˜ ë‹¤ì‹œ ë¶€íŒ…í•´ë„ ê²½ë¡œê°€ ë³´ì¡´|
|-4|IPv4 ì£¼ì†Œë§Œ ì‚¬ìš©|
|-6|IPv6 ì£¼ì†Œë§Œ ì‚¬ìš©|

<br>

## c) COMMAND

| ì˜µì…˜ | ì„¤ëª… |
|:---:|:---|
|add|ë¼ìš°íŒ… í…Œì´ë¸”ì—ì„œ ê²½ë¡œë¥¼ ì¶”ê°€|
|del|ë¼ìš°íŒ… í…Œì´ë¸”ì—ì„œ ê²½ë¡œë¥¼ ì‚­ì œ|
|show|ë¼ìš°íŒ… í…Œì´ë¸”ì„ í‘œì‹œ|
|flush|ë¼ìš°íŒ… í…Œì´ë¸”ì—ì„œ ëª¨ë“  ê²½ë¡œë¥¼ ì‚­ì œ|
|chenge|ë¼ìš°íŒ… í…Œì´ë¸”ì—ì„œ ê²½ë¡œë¥¼ ìˆ˜ì •|

<br>

## d) route ëª…ë ¹ì˜ Flags - í•´ë‹¹ ê²½ë¡œì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ëŠ” ê¸°í˜¸

| Flags | ì„¤ëª… |
|:---:|:---|
|U|ê²½ë¡œê°€ í™œì„±í™”ë˜ì–´ ìˆìŒ|
|H|ëª©ì ì§€ê°€ í˜¸ìŠ¤íŠ¸ì„|
|G|ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì‚¬ìš©í•¨|
|R|ë™ì  ë¼ìš°íŒ…ì„ ìœ„í•´ ê²½ë¡œë¥¼ ë³µì›í•¨|
|D|ë°ëª¬ ë˜ëŠ” ë¦¬ë‹¤ì´ë ‰íŠ¸ì— ì˜í•´ ë™ì ìœ¼ë¡œ ì„¤ì¹˜ë¨|
|M|ë°ëª¬ ë˜ëŠ” ë¦¬ë‹¤ì´ë ‰íŠ¸ì— ì˜í•´ ìˆ˜ì •ë¨|
|A|Addrconfì— ì˜í•´ ì„¤ì¹˜ë¨|
|C|ìºì‹œ í•­ëª©ì„|
|!|ê²½ë¡œê°€ ê±°ë¶€ë¨|

<br>

## e) ëª…ë ¹ ì˜ˆì‹œ

<br>

### ğŸ“œ ë¼ìš°íŒ… í…Œì´ë¸” í™•ì¸

```bash
$ route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
10.1.2.0        0.0.0.0         255.255.255.0   U     0      0        0 ens32
```

<br>

### ğŸ“œ íŠ¹ì • ëŒ€ì—­í­ ë˜ëŠ” IP ì£¼ì†Œì— ëŒ€í•œ ê²½ë¡œ ì¶”ê°€/ì‚­ì œ

```bash
$ ping -c 2 172.20.15.192
ping: connect: Network is unreachable

# íŠ¹ì • ëŒ€ì—­í­ì— ëŒ€í•œ ê²½ë¡œ ì¶”ê°€
$ route add -net 172.20.15.0 netmask 255.255.255.0 gw 10.1.2.192
# ë˜ëŠ” "route add -net 172.20.15.0/24 gw 10.1.2.192"

# íŠ¹ì • IP ì£¼ì†Œì— ëŒ€í•œ ê²½ë¡œ ì¶”ê°€
$ route add -host 172.20.15.192 gw 192.168.0.1

$ route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
10.1.2.0        0.0.0.0         255.255.255.0   U     0      0        0 ens32
172.20.15.0     10.1.2.192      255.255.255.0   UG    0      0        0 ens32

$ ping -c 2 172.20.15.192
PING 172.20.15.192 (172.20.15.192) 56(84) bytes of data.
64 bytes from 172.20.15.192: icmp_seq=1 ttl=64 time=0.417 ms
64 bytes from 172.20.15.192: icmp_seq=2 ttl=64 time=0.473 ms

--- 172.20.15.192 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1009ms
rtt min/avg/max/mdev = 0.417/0.445/0.473/0.028 ms

# íŠ¹ì • ëŒ€ì—­í­ì— ëŒ€í•œ ê²½ë¡œ ì‚­ì œ
$ route del -net 172.20.15.0 netmask 255.255.255.0
# ë˜ëŠ” "route del -net 172.20.15.0/24"

# íŠ¹ì • IP ì£¼ì†Œì— ëŒ€í•œ ê²½ë¡œ ì¶”ê°€
$ route del -host 172.20.15.192 

$ route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
10.1.2.0        0.0.0.0         255.255.255.0   U     0      0        0 ens32
```

<br>

### ğŸ“œ ê¸°ë³¸ ë¼ìš°íŠ¸ ì¶”ê°€

```bash
$ route add default gw 10.1.2.254

$ route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.1.2.254      0.0.0.0         UG    0      0        0 ens32
10.1.2.0        0.0.0.0         255.255.255.0   U     0      0        0 ens32
```