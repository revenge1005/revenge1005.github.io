---
title:  "[ì‹œìŠ¤í…œ ê´€ë¦¬] 02. ì›¹ ì„œë²„ì˜ ë¡œê·¸(Log)" 

categories:
  - SYS_MGMT
tags:
  - [sys_mgmt, linux]

toc: true
toc_sticky: true

date: 2021-05-02
last_modified_at: 2021-05-02
---
<br>

# ğŸ”” ì›¹ ì„œë²„ì˜ ë¡œê·¸(Log)
---

<style>
table {
    font-size: 12pt;
}
table th:first-of-type {
    width: 5%;
}
table th:nth-of-type(2) {
    width: 20%;
}
table th:nth-of-type(3) {
    width: 50%;
}
table th:nth-of-type(4) {
    width: 30%;
} 
big { 
    font-size: 25px 
}
small { 
    font-size: 18px 
}
</style>

<br>

<big> **â–  ì•¡ì„¸ìŠ¤(Access) ë¡œê·¸** </big> <br>

ìš”ì²­ë°›ì€ í˜ì´ì§€ê°€ ì •ìƒìœ¼ë¡œ ì‘ë‹µë˜ì—ˆì„ ë•Œë„ ì•¡ì„¸ìŠ¤ ë¡œê·¸ì— ê¸°ë¡í•˜ê³  HTTP ìƒíƒœ ì½”ë“œë¡œ 'Not Found(404)'ì™€ ê°™ì€ ì˜¤ë¥˜ ìƒíƒœë¥¼ íšŒì‹ í–ˆì„ ë•Œë„ ì•¡ì„¸ìŠ¤ ë¡œê·¸ì— ì¶œë ¥ë©ë‹ˆë‹¤. (ë‹¨, ì›¹ ì„œë²„ì—ì„œ ìš”ì²­ë°›ì€ í˜ì´ì§€ë¥¼ ì°¾ì§€ ëª»í•œ ì›ì¸ì€ ë¡œê·¸ì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.)

<br>

<big> **â–  ì˜¤ë¥˜(Error) ë¡œê·¸** </big> <br>

ì˜¤ë¥˜ ë¡œê·¸ëŠ” HTTP ì˜¤ë¥˜ ìƒíƒœë¥¼ ì‘ë‹µí–ˆë‹¤ëŠ” ì •ë³´ê°€ ì•„ë‹ˆë¼, ì›¹ ì„œë²„ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²½ìš°ì— ì¶œë ¥ë©ë‹ˆë‹¤. (404(Not Found)ë¥¼ ì‘ë‹µí•œ ë¡œê·¸ ì •ë³´ëŠ” ì•¡ì„¸ìŠ¤ ë¡œê·¸ì— ì¶œë ¥ë˜ê³ , ì´ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ì›ì¸ì— í•´ë‹¹í•˜ëŠ” ë‚´ìš©ì´ ì˜¤ë¥˜ ë¡œê·¸ë¡œ ì¶œë ¥ë©ë‹ˆë‹¤.)

<br>

<big> **â–  HTTP ìƒíƒœ ì½”ë“œ ëª©ë¡** </big> <br>

![dadad](https://github.com/revenge1005/WEB-Server-3-Tier-Architecture/assets/42735894/e4220576-2840-407e-8816-369f740dff02){: width="90%" height="90%"}{: .align-center}

<br>

<big> **â–  apache log ê´€ë ¨ ì„¤ì • (/etc/httpd/conf/httpd.conf) ** </big> <br>

```bash

~(ìƒëµ)~

ErrorLog "logs/error_log"

LogLevel warn

<IfModule log_config_module>

    LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
    LogFormat "%h %l %u %t \"%r\" %>s %b" common

    <IfModule logio_module>
      LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\" %I %O" combinedio
    </IfModule>

    CustomLog "logs/access_log" combined
</IfModule>

~(ìƒëµ)~
```

| ì˜µì…˜ | ë‚´ìš© |
| :-----: | :------- |
| ErrorLog | ì‹¤ì œ ë¡œê·¸ íŒŒì¼ì˜ ê²½ë¡œëŠ” "ServerRoot"ì˜ ì„¤ì • + ì—¬ê¸°ì„œ ì„¤ì •í•œ ê²½ë¡œê°€ ë¨ (/etc/httpd/logs/error_log) |
| LogLevel | ì˜¤ë¥˜ ë¡œê·¸ë¡œ ì¶”ë ¥í•  ë¡œê·¸ ë ˆë²¨ì„ ì§€ì • (emerg, alert, crit, error, warn, notice, info, debug) |
| CustomLog | ì‹¤ì œ ë¡œê·¸ íŒŒì¼ì˜ ê²½ë¡œëŠ” "ServerRoot"ì˜ ì„¤ì • + ì—¬ê¸°ì„œ ì„¤ì •í•œ ê²½ë¡œê°€ ë¨ (/etc/httpd/logs/access_log), í¬ë§·ì€ combined ì‚¬ìš©, combinedëŠ” LogFormatì— ì§€ì •ë˜ì–´ ìˆë‹¤. |
| LogFormat |%h : ì›ê²© í˜¸ìŠ¤íŠ¸ëª… , %l : ì›ê²© ë¡œê·¸ëª… , %u : ì›ê²© ì‚¬ìš©ì , %t : ìš”ì²­ì„ ë°›ì•„ë“¤ì¸ ì‹œê°„ , <br> %r : ìš”ì²­ì˜ ì²«í–‰ , %>s : ë§ˆì§€ë§‰ status , %b : ì‘ë‹µ ë°”ì´íŠ¸ ìˆ˜ , <br> %{Referer}i : Referer ì •ë³´ , %{User-Agent}i : User-Agent ì •ë³´ |