---
title:  "[Rocky] 02. SSH ì„œë²„ - (2)" 

categories:
  - ROCKY
tags:
  - [rocky, linux]

toc: true
toc_sticky: true

date: 2022-08-10
last_modified_at: 2022-08-10
---
<br>

# ğŸ”” SFTP ì „ìš© + Chroot
---

<style>
table {
    font-size: 12pt;
}
table th:first-of-type {
    width: 5%;
}
table th:nth-of-type(2) {
    width: 15%;
}
table th:nth-of-type(3) {
    width: 50%;
}
table th:nth-of-type(4) {
    width: 30%;
}
big {
    font-size: 15pt;
}
</style>

<br>

<big> **â–  ì˜ˆë¥¼ ë“¤ì–´ [/home]ì„ Chroot ë””ë ‰í„°ë¦¬ë¡œ ì„¤ì •** </big>

```bash
# SFTP ì „ìš© ê·¸ë£¹ ë§Œë“¤ê¸°
$ groupadd sftp_users

$ vi /etc/proxy/proxy_config

# line 138 : ì½”ë©˜íŠ¸ ì•„ì›ƒ í›„ ë¼ì¸ ì¶”ê°€
#Subsystem      sftp    /usr/libexec/openssh/sftp-server
Subsystem       sftp    internal-sftp

Match Group sftp_users
  X11Forwarding no
  AllowTcpForwarding no
  ChrootDirectory /home
  ForceCommand internal-sftp

$ systemctl restart sshd

# [test] ì‚¬ìš©ìë¥¼ SFTP ì „ìš© ì‚¬ìš©ìë¡œ ì„¤ì •
$ usermod -aG sftp_users rocky
```

<br>

<big> **â–  ì‚¬ìš©ì ì„¤ì • SFTP ì „ìš© ì„¤ì •ìœ¼ë¡œ ì‘ì—…í•˜ëŠ”ì§€ í™•ì¸** </big>

```bash

```