---
title:  "[Docker] 12. ë¡œì»¬ í™˜ê²½ì— Docker ë ˆì§€ìŠ¤íŠ¸ë¦¬ êµ¬ì¶•" 

categories:
  - DOCKER
tags:
  - [docker]

toc: true
toc_sticky: true

date: 2022-03-18
last_modified_at: 2022-03-18
---
# [Docker] 12. ë¡œì»¬ í™˜ê²½ì— Docker ë ˆì§€ìŠ¤íŠ¸ë¦¬ êµ¬ì¶•
---

<style>
table {
    font-size: 12pt;
}
table th:first-of-type {
    width: 5%;
}
table th:nth-of-type(2) {
    width: 15%;
}
table th:nth-of-type(3) {
    width: 50%;
}
table th:nth-of-type(4) {
    width: 30%;
}
</style>

<br>

## ğŸ”” ë¡œì»¬ í™˜ê²½ì— Docker ë ˆì§€ìŠ¤íŠ¸ë¦¬ êµ¬ì¶•

<br>

### (a) registry ê²€ìƒ‰

```bash
$ docker search registry
NAME        DESCRIPTION                                     STARS   OFFICIAL    AUTOMATED
registry    The Docker Registry 2.0 implementation for...   1700    [OK]
```

<br>

### (b) registry ë‹¤ìš´ë¡œë“œ

```bash
$ docker image pull registry 
Using default tag: latest
latest: Pulling from library/registry 
81033e7c1d6a: Pull complete
~ì¤‘ëµ~
Digest: sha256:672d519d7fd7bbc7a448d17956ebeefe225d5eb27509d8dc5ce67ecb4a0bce54
Status: Downloaded newer image for registry: latest
```

<br>

### (c) registry ì´ë¯¸ì§€ í™•ì¸

```bash
$ docker image ls registry
REPOSITORY      TAG         IMAGE ID            CREATED         SIZE
registry        latest      d1fd7d86a825        3 weeks ago     33.5MB
```

<br>

### (d) registry ì»¨í…Œì´ë„ˆ ì‹œì‘

```bash
$ docker run -d -p 5000:5000 --restart always --name registry registry:2
```

<br>

### (e) registry ì»¨í…Œì´ë„ˆ í™•ì¸

```bash
$ docker container ls
CONTAINER ID    IMAGE       ~ì¤‘ëµ~  STATUS          PORTS                   NAMES
2a912a0de982    registry    ~ì¤‘ëµ~  Up 14 seconds   0.0.0.0:5000->5000/tcp  registry
```

<br>

## ğŸ”” Docker ì´ë¯¸ì§€ ì—…ë¡œë“œ

<br>

### (1) ì˜ˆì œ Dockerfile ì¤€ë¹„

```bash
FROM ubuntu:18.04

ENV DEBIAN_FRONTEND=noninteractive

RUN apt-get update \
	&& apt-get install -y apache2 php \
	&& apt-get install -y vim wget locales
```

<br>

### (2) Dockerfile ë¹Œë“œ

```bash
docker build -t docker-test .
```

<br>

### (3) íƒœê·¸ ë³€ê²½

```bash
docker image tag [ë¡œì»¬ì˜ ì´ë¯¸ì§€ëª…] [ì—…ë¡œë“œí•  ë ˆì§€ìŠ¤íŠ¸ë¦¬ì˜ ì£¼ì†Œ : í¬íŠ¸ ë²ˆí˜¸] / [ì´ë¯¸ì§€ëª…]
```

```bash
$ docker image tag docker-test localhost:5000/docker-test

$ docker image ls
REPOSITORY                      TAG         IMAGE ID        ~ì¤‘ëµ~
docker-test                     latest      186ac198fcdf    ~ì¤‘ëµ~
localhost:5000/docker-test      latest      186ac198fcdf    ~ì¤‘ëµ~
```

<br>

### (4) ì´ë¯¸ì§€ ì—…ë¡œë“œ

```bash
$ docker image push localhost:5000/docker-test
The push refers to a repository [localhost:5000/docker-test]
68177698d48b: Preparing
~ì¤‘ëµ~
sha256:766aca0e61a74781e5cf087943bc7403089f84c8d4dc2b625a40f2884729d5e7 size: 4283
```

<br>

## ğŸ”” Docker ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ

### (1) ê¸°ì¡´ ì´ë¯¸ì§€ ì‚­ì œ

```bash
$ docker image rm localhost:5000/docker-test
$ docker image rm docker-test
```

<br>

### (2) ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ

```bash
$ docker image pull localhost:5000/docker-jupyter
Using default tag: latest
latest: Pulling from docker-jupyter
~ì¤‘ëµ~
Digest: sha256:766aca0e61a74781e5cf087943bc7403089f84c8d4dc2b625a40f2884729d5e7
Status: Downloaded newer image for localhost:5000/docker-jupyter:latest
```

<br>

### (3) ì´ë¯¸ì§€ í™•ì¸

```bash
$ docker image ls
REPOSITORY                      TAG         IMAGE ID        ~ì¤‘ëµ~
localhost:5000/docker-test      latest      186ac198fcdf    ~ì¤‘ëµ~
```