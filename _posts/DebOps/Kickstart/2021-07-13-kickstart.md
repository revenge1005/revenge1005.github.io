---
title:  "[Kickstart] PXE / Kickstart μ΄λ€?" 

categories:
  - kickstart
tags:
  - [kickstart]

toc: true
toc_sticky: true

date: 2021-07-13
last_modified_at: 2021-07-13
---
# [Kickstart] PXE / Kickstart μ΄λ€?
---

<style>
table {
    font-size: 12pt;
}
table th:first-of-type {
    width: 5%;
}
table th:nth-of-type(2) {
    width: 15%;
}
table th:nth-of-type(3) {
    width: 50%;
}
table th:nth-of-type(4) {
    width: 30%;
}
</style>

<br>


## π”” κ°λ…

### 1. PXE (Preboot Execution Environment)

- λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄μ„ μ»΄ν“¨ν„°λ¥Ό λ¶€ν…ν•  μ μκ² λ§λ“¤μ–΄μ£Όλ” ν™κ²½

- μ΄μμ²΄μ  μ„¤μΉκ°€ νλ“  ν™κ²½ λλ” HDD, USB λ“±κ³Ό κ°™μ€ μ €μ¥λ§¤μ²΄μ— κµ¬μ•  λ°›μ§€ μ•κ³  PCλ¥Ό μ‚¬μ© μ„ν•΄ μ‚¬μ©

β€‹- PC μμ²΄ OSλ΅ μ‹μ¤ν… λ¶€ν…ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μ„λ²„λ΅λ¶€ν„° IP ν• λ‹Ήκ³Ό λ¶€ν… μ΄λ―Έμ§€λ¥Ό λ‹¤μ΄λ°›μ•„ λ¶€ν…λλ‹¤.

<br>

### 2. Kickstart

- RedHat Linuxμ—μ„ OS μ„¤μΉμ‹ μ§€μ—­/μ‹κ°„, μ‚¬μ©μ ν¨μ¤μ›λ“ λ“±μ ν™κ²½μ„¤μ • κ΄€λ ¨ λ‚΄μ©μ„ νμΌμ— λ‹΄μ•„λ†“μΌλ©΄ κ°λ³„ PCμ—μ„ μ„¤μΉν•λ” λ™μ• ν•΄λ‹Ή νμΌμ„ μ½μ–΄λ“¤μ—¬ μ„¤μΉλ¥Ό μλ™ν™”ν•  μ μλ„λ΅ν•λ” μ§€μ›ν•λ” κΈ°λ¥

<br>

### 3. PXE ν™κ²½ κµ¬μ„± μ”μ†

|κµ¬μ„±μ”μ†|μ„¤λ…|
|:---:|---|
|DHCP|ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ„¤νΈμ›ν¬ μ •λ³΄λ¥Ό ν• λ‹Ή|
|TFTP|OS μ„¤μΉμ— ν•„μ”ν• μ„λ²„ κµ¬μ„± λ‚΄μ©κ³Ό PXE boot μ΄λ―Έμ§€ μ „λ‹¬|
|FTP/HTTP/NFS/SAMBA|PXE λ¶€νΈ μ΄ν›„ OS μ„¤μΉμ— ν•„μ”ν• νμΌ μ „λ‹¬|
|Kickstart|OS μ„¤μΉ μ‹ ν™κ²½μ— λ€ν•΄μ„ λ―Έλ¦¬ μ„¤μ •ν•λ©΄ ν•΄λ‹Ή μ„¤μ •νμΌμ„ μ°Έμ΅°ν•΄μ„ OS μ„¤μΉν•¨|

![image](https://user-images.githubusercontent.com/42735894/222965530-a590edb8-b77e-41a2-a23e-03fb859da87d.png){: width="100%" height="100%"}

<br>

### 4. PXE λ™μ‘ κ³Όμ •

![weqeqweqwe](https://user-images.githubusercontent.com/42735894/222965686-97f01cad-7fcd-4bee-b434-02d30090c280.PNG){: width="100%" height="100%"}

|κµ¬μ„±μ”μ†|μ„¤λ…|
|:---:|---|
|β‘ |ν΄λΌμ΄μ–ΈνΈκ°€ λ¶€ν…λλ©΄μ„ DHCP Discover ν¨ν‚·μ„ λΈλ΅λ“μΊμ¤νΈν•λ©°, μ΄λ• ν¨ν‚·μ DHCP Payloadμ— PXE Client Flagλ¥Ό λ„£μ–΄μ„ λ³΄λƒ…λ‹λ‹¤.|
|β‘΅|μ„λ²„λ” Offer ν¨ν‚·μΌλ΅ μ‘λ‹µν•λ©°, ν΄λΌμ΄μ–ΈνΈκ°€ κ°€μ Έκ° IP μ •λ³΄λ¥Ό μ κ³µν•λ©°, μ΄λ• DHCPμ— μ„¤μ •λ Next-Server IP (TFTP μ„λ²„) μ •λ³΄λ„ ν•¨κ» μ κ³µλ©λ‹λ‹¤.|
|β‘Ά|ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„λ΅ λ¶€ν„° λ°›μ€ μ •λ³΄λ¥Ό κ°€μ§€κ³  Request ν•©λ‹λ‹¤.|
|β‘£|μ„λ²„λ” ACK ν¨ν‚·μ„ ν†µν•΄μ„ μµμΆ…μ μΌλ΅ IP μ •λ³΄μ™€ TFTP μ„λ²„ μ •λ³΄λ¥Ό ν•¨κ» λ³΄λƒ…λ‹λ‹¤.|

![weqeqweqw2e](https://user-images.githubusercontent.com/42735894/222965690-25f21905-e050-4e0b-9ea5-7dc127b5d709.PNG){: width="100%" height="100%"}

|κµ¬μ„±μ”μ†|μ„¤λ…|
|:---:|---|
|β‘¤ ~ β‘¥|ν΄λΌμ΄μ–ΈνΈλ” TFTP μ„λ²„ μ •λ³΄λ¥Ό ν†µν•΄ Network Boot ProgramμΌλ΅ PXE μ”μ²­μ„ μ„λ²„ μ—κ² μ „μ†΅ν•κ³ , μ„λ²„λ” λ¶€νΈ λ΅λ” νμΌ(pxelinux.0)μ„  μ”λ‹¬ν•κ³  λ΅λ”©ν•©λ‹λ‹¤.|
|β‘¦ ~ β‘§|ν΄λΌμ΄μ–ΈνΈλ” κµ¬μ„± μ •λ³΄λ¥Ό μ„λ²„μ— μ”μ²­ν•κ³ , μ„λ²„λ” PXE λ¶€νΈ μ΄λ―Έμ§€μ™€ κΈ°νƒ€ κµ¬μ„± μ •λ³΄κ°€ ν¬ν•¨λ pxelinux.cfgλ¥Ό ν΄λΌμ–ΈνΈμ—κ² μ „μ†΅ν•©λ‹λ‹¤.|
|β‘¨ ~ β‘©|ν΄λΌμ΄μ–ΈνΈκ°€ pxelinux.cfg ν¬ν•¨λ μ»¤λ„κ³Ό PXE μ΄λ―Έμ§€λ¥Ό μ”μ²­ν•λ©΄, μ„λ²„λ” PXE μ»¤λ„, λ¶€νΈ μ΄λ―Έμ§€λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ²  λ΅λ”©ν•©λ‹λ‹¤.|
|β‘|ν΄λΌμ΄μ–ΈνΈλ” OS μ΄λ―Έμ§€ λ΅λ”©μ„ λ¶€ν…μ„ μ‹μ‘, μ΄λ• kickstart νμΌμ„ μ°Έκ³ ν•΄ μ„¤μΉν•©λ‹λ‹¤|