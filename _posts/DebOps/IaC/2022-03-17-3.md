---
title:  "[IaC] 03. Configuration ë„êµ¬ (1) - Puppet" 

categories:
  - IAC
tags:
  - [iac]

toc: true
toc_sticky: true

date: 2023-07-20
last_modified_at: 2023-07-20
---
# [IaC] 03. Configuration ë„êµ¬ (1) - Puppet
---

<style>
table {
    font-size: 12pt;
}
table th:first-of-type {
    width: 5%;
}
table th:nth-of-type(2) {
    width: 15%;
}
table th:nth-of-type(3) {
    width: 50%;
}
table th:nth-of-type(4) {
    width: 30%;
}
</style>

## ğŸ”” Puppetì´ë€?

- Puppetì€ Rubyë¡œ ë§Œë“¤ì–´ì§„ Configuration ë„êµ¬ë¡œ, Puppetì€ ê° ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” puppetdì™€ ê´€ë¦¬ ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” puppetmasterd 2ê°€ì§€ ë°ëª¬ì— ì˜í•´ ì‘ë™ëœë‹¤.

- ê° ì„œë²„ì˜ puppetdëŠ” ì •ê¸°ì (Default 30ë¶„)ìœ¼ë¡œ puppetmasterdì— ì§ˆì˜ë¥¼ í†µí•´ ì–»ì€ ì •ì˜ íŒŒì¼ì„ í˜„ì¬ ìƒí™©ê³¼ ë¹„êµí•˜ì—¬ ë°˜ì˜í•´ì•¼ í•  ê²ƒì´ ìˆìœ¼ë©´ ë°˜ì˜í•œë‹¤.

- ì´ ë•Œ, ì„¤ì • íŒŒì¼(ë§¤ë‹ˆí˜ìŠ¤íŠ¸)ì€ puppetmasterdë¡œë¶€í„° ë‹¤ìš´ë¡œë“œ ë˜ë©°, ì •ê¸°ì ìœ¼ë¡œ ì§ˆì˜í•˜ëŠ” ê²ƒ ë¿ ì•„ë‹ˆë¼ ìˆ˜ë™ìœ¼ë¡œ ì§ì ‘ puppetdë¥¼ ëª…ë ¹ì–´ë¡œ ì‹¤í–‰í•˜ì•¼ ì„¤ì •ì„ í™•ì¸, ë°˜ì˜í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.

<br>

### (1) Puppet êµ¬ì„± ìš”ì†Œ

|êµ¬ë¶„|ì„¤ëª…|
|:---:|---|
|Agent Node|Puppetì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” ì„œë²„|
|Master Server|Agent Nodeë¥¼ ê´€ë¦¬í•˜ëŠ” ì„œë²„|
|Manifest|Puppetë¥¼ í†µí•´ ì„¤ì •í•˜ê³ ì í•˜ëŠ” í™˜ê²¨ì— ëŒ€í•œ ì •ì˜, ìì›ì— ëŒ€í•œ ê¸°ìˆ  ëª…ì„¸ì„œ|
|Catalog|Puppet Masterì—ì„œ Agentì—ê²Œ ë‚´ë¦¬ëŠ” ëª…ë ¹|

<br>

### (2) Puppet ì‘ì—… íë¦„

![img (1)](https://user-images.githubusercontent.com/42735894/223165107-7a7dee2c-4bc0-4577-a6ec-91dfa1ec80cf.png){: width="30%" height="30%"}{: .align-center}

> ê´€ë¦¬ìëŠ” Agentì— ë°˜ì˜í•  Manifest ì‘ì„±ì„ ì™„ë£Œí•˜ê³ , Agentê°€ Masterì™€ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ ë³´ì•ˆ ì¸ì¦ì„œ(Secure Certificates)ë¥¼ ì •ì˜í•˜ê³  Masterì˜ í¬íŠ¸ë¥¼ ê°œë°©í•˜ì—¬ í†µì‹  ê°€ëŠ¥í•˜ë„ë¡í•œë‹¤.

|ìˆœì„œ|ì„¤ëª…|
|:---:|---|
|(1)|AgentëŠ” Masterì—ê²Œ Agent Nodeì˜ ì „ë°˜ì ì¸ Fact ì •ë³´(í˜¸ìŠ¤íŠ¸ëª…, IP ì£¼ì†Œ ë“±)ì„ ë³´ë‚¸ë‹¤.|
|(2-1)|Puppetì€ Fact ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ Agentì— ë°˜ì˜í•  Catalogë¥¼ ì»´íŒŒì¼í•œë‹¤.|
|(2-2)|AgentëŠ” ë°›ì€ Catalogë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë³€ê²½ì‚¬í•­ì„  ë°˜ì˜í•œë‹¤.|
|(3)|AgentëŠ” ì´í›„ Masterì—ê²Œ ë³€ê²½ ê²°ê³¼ ì—¬ë¶€ë¥¼ ë³´ê³ í•˜ëŠ” Reportë¥¼ ë³´ë‚¸ë‹¤.|

<br>